<h1>SOC Automation (Home Lab) - Part 3</h1>

<p align="center">
<img src="https://snipboard.io/col95p.jpg" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<h2>Description</h2>
<br />
<p align="center">
Welcome to part three of five of the series on the SOC automation project. If you haven't seen the previous parts where we go over how to build a diagram for this lab and install what is required I highly encourage you to go and read that. First, today's objective is to configure our Hive and Wazuh servers so we can get them up and running properly. By the end of this part, you will have both the Hive and Wazuh servers up, along with a Windows 10 client reporting into Wazuh. Let's get started.
  
To begin, let's configure our Hive instance first to get this up and running successfully in part two or episode two we installed multiple components for the hive and beginning with Cassandra which is used for the hives database we want to edit Cassandra's configuration files and to do that we can type in Nano SLC SL Cassandra and you can always press tab for autoc completion I'll type in cassandra. yo this is where we can customize our listen address or ports along with the cluster name for example right here it says cluster name as test cluster you can leave it as is but I'm going to delete this and change it to my dfir next we want to find the listen address and RPC address now we can do this a couple ways we can scroll down until we find it or we can hold control and W this will open up a search bar for you and then we can type in listen and hit enter let's scroll down just a little bit and we should see listen address as Local Host we want to remove this and enter in our public IP of the hive so this one is 14310 21714 n now your public IP will likely be different than mine but just make sure it's reflecting your public IP for The Hive next we want to find RPC address so again hold control and W and then we'll search RPC uncore address then scroll down just a little bit then we find RPC address so let's remove the local host and do the same that we did earlier type in your public IP of the hive now that we changed our listen address and RPC address we need to change one more configuration and that is the seed address so I'll type in control W and type in seed eventually we'll see what is called seedor provider now you can always go ahead and search for seedor provider and it will bring you straight to here we want to change the local host address of 127.0.0.1 to our public IP of the hive and then we'll save this out by hitting crl X and Y the next step is to to stop our Cassandra service and to do that we can type in system CTL stop Cassandra now again you can always press tab to autocomplete I'll hit enter and because we installed the hive using their package we must remove old files to do that we can type in rm-rf and we want to remove files located in VAR lib Cassandra and then we want to put in the asteris for everything and then hit enter now that the older files have been deleted we can now start up the service by typing system CTL start Cassandra and hit enter it is always a good habit to just double check your services just to make sure it is running so again system CTL but instead of start you just type in status Cassandra hit enter and under the active you can see that it's active in Brackets running we know that Cassandra is running now we can exit this by hitting Q on our keyboard and then I'll just clear out the screen for now the next thing we want to set up is elastic search which is used to manage data indices AKA querying data the configuration files for elastic search is under ety elastic search and elastic search. yml in this configuration I'll scroll down until I see cluster name and I'll remove the comment I'll remove my application and change this to the hive scrolling down we want to remove the comment for no name and then I'll leave it as no-1 scroll down just a bit both data path and log path is okay just keep scrolling down and then we will eventually see network host I will uncomment this and then put in our public IP of the hive Now by default the HTTP Port is 92 00 now you can go ahead and uncomment it or comment it because by default it's 9200 I'm just going to uncomment it here and in order to start elastic service it requires either a discovery seed or a cluster initial Master node either or in my case I will just uncomment cluster

